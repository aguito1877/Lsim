<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head> 
        <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
        <title>Lsim</title> 
    </h:head> 
    <h:body>  
        <h:form style="margin-left: 20px;" id="detailForm">
            <h:panelGrid columns="3">
                <p:commandButton value="Yeni" process="@this" immediate="true" style="margin-left: 100px;" update="@form" action="#{userCnt.newUser()}" />
                <p:commandButton value="Yaddaşa"  style="margin-left: 30px;" update="@form,:TblForm" action="#{userCnt.save()}" />
                <!--<p:commandButton value="Sil"  style="margin-left: 30px;" update="@form" action="#!{userCnt.deleteRole()}" />-->
            </h:panelGrid>
            <h:panelGrid style="margin-top: 50px;" columns="2">
                <h:outputText value="Login"/>
                <p:inputText required="true" requiredMessage="Login daxil et" value="#{userCnt.user.login}"/>

                <h:outputText value="Password"/>
                <p:inputText required="true" requiredMessage="Şifrəni daxil et" value="#{userCnt.user.passw}"/>

                <h:outputText value="Full Name"/>
                <p:inputText required="true" requiredMessage="Tam adı daxil et" value="#{userCnt.user.fullname}"/>

                <h:outputText value="Phone number"/>
                <p:inputText  value="#{userCnt.user.mob}"/>

                <h:outputText value="email"/>
                <p:inputText value="#{userCnt.user.email}"/>

                <h:outputText value="Company"/> 
                <p:selectOneMenu style="width: 160px;"  value="#{userCnt.user.company_id}">
                    <f:selectItem   itemLabel="Not Selected" itemValue="0"/>
                    <f:selectItems var="op" value="#{baseCnt.companyList}"  itemLabel="#{op.item_name}" itemValue="#{op.item_value}"/>
                    <p:ajax event="change"   process="@this"/>
                </p:selectOneMenu>

                <h:outputText value="Comments"/>
                <p:inputTextarea  value="#{userCnt.user.comments}"/>

                <h:outputText value="Roles"/> 
                <p:selectManyCheckbox  columns="1" layout="grid" value="#{userCnt.user.rolesId}"> 
                    <f:selectItems var="op" value="#{roleCnt.roleList}"  itemLabel="#{op.name}" itemValue="#{op.id}"/>
                    <p:ajax event="change"   process="@this"/>
                </p:selectManyCheckbox >
            </h:panelGrid> 
            <p:messages autoUpdate="true" showDetail="false" closable="true"/>
        </h:form>
    </h:body>
</html>
